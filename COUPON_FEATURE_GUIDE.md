# 折價券功能實現指南

## 功能概述

在首頁的分類上面新增了專業的折價券功能，支持左右滑動瀏覽，包含多種優惠券類型。

## 實現的功能

### 1. 折價券類型
- **固定金額折價券**：如50元、100元、150元等
- **百分比折價券**：如8折、7折等
- **新用戶專享**：首次購書優惠
- **滿額優惠**：購物滿額立減
- **限時優惠**：全館折扣
- **VIP專享**：會員專屬優惠

### 2. 專業UI設計
- **漸層背景**：每張折價券都有獨特的漸層色彩
- **圓形切口**：模擬真實折價券的撕邊效果
- **背景圖案**：細緻的圓點圖案增加質感
- **陰影效果**：立體感設計
- **響應式按鈕**：領取按鈕有載入狀態

### 3. 滑動功能
- **左右滑動**：支持手勢滑動瀏覽
- **頁面指示器**：顯示當前位置和總數量
- **自動適配**：根據折價券數量自動調整

### 4. 交互功能
- **一鍵領取**：點擊領取按鈕即可領取折價券
- **載入狀態**：領取時顯示載入動畫
- **成功提示**：領取成功後顯示SnackBar
- **錯誤處理**：網絡錯誤時顯示重試選項

## 技術實現

### 新增文件

1. **數據模型**
   - `lib/models/coupon.dart` - 折價券數據模型

2. **狀態管理**
   - `lib/providers/coupon_provider.dart` - 折價券狀態管理

3. **UI組件**
   - `lib/widgets/coupon_card.dart` - 單張折價券卡片
   - `lib/widgets/coupon_slider.dart` - 折價券滑動組件

### 修改文件

1. **主應用**
   - `lib/main.dart` - 註冊CouponProvider

2. **首頁**
   - `lib/screens/home_screen.dart` - 集成折價券組件

## 設計特色

### 1. 視覺設計
- **多彩漸層**：每張折價券使用不同的漸層色彩
- **專業字體**：清晰的層次結構
- **圖標元素**：使用emoji增加親和力
- **圓角設計**：現代化的UI風格

### 2. 交互設計
- **滑動提示**：底部顯示滑動提示
- **頁面指示器**：清晰的導航指示
- **按鈕反饋**：點擊時有視覺反饋
- **載入狀態**：操作過程中的狀態提示

### 3. 響應式設計
- **自適應寬度**：折價券卡片寬度固定，適合滑動
- **高度一致**：所有折價券保持相同高度
- **邊距統一**：卡片間距保持一致

## 折價券內容

### 模擬數據包含：
1. **新用戶專享** - 50元折價券（滿200元可用）
2. **滿額優惠** - 100元折價券（滿500元可用）
3. **限時優惠** - 8折優惠（滿300元可用）
4. **週末特惠** - 80元折價券（滿400元可用）
5. **VIP專享** - 150元折價券（滿800元可用）
6. **清倉特價** - 7折優惠（滿200元可用）

### 顏色方案：
- 紅色系：新用戶專享
- 青色系：滿額優惠
- 藍色系：限時優惠
- 綠色系：週末特惠
- 黃色系：VIP專享
- 粉色系：清倉特價

## 用戶體驗

### 使用流程：
1. 用戶進入首頁
2. 在分類上方看到折價券區域
3. 左右滑動瀏覽不同折價券
4. 點擊「領取」按鈕領取心儀的折價券
5. 收到成功提示

### 狀態處理：
- **載入中**：顯示載入動畫
- **載入失敗**：顯示錯誤信息和重試按鈕
- **無數據**：顯示空狀態提示
- **領取中**：按鈕顯示載入狀態
- **領取成功**：顯示成功提示

## 未來擴展

1. **我的折價券**：查看已領取的折價券
2. **折價券使用**：在結帳時使用折價券
3. **推送通知**：新折價券上線通知
4. **個性化推薦**：根據用戶偏好推薦折價券
5. **分享功能**：分享折價券給朋友
6. **使用統計**：折價券使用情況統計

## 測試要點

1. **滑動功能**：測試左右滑動是否流暢
2. **頁面指示器**：確認指示器正確顯示當前位置
3. **領取功能**：測試領取按鈕的響應
4. **載入狀態**：確認載入動畫正常顯示
5. **錯誤處理**：測試網絡錯誤時的處理
6. **響應式設計**：在不同屏幕尺寸下測試

這個折價券功能為用戶提供了豐富的優惠選擇，提升了用戶的購物體驗和參與度。
